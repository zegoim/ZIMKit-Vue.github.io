(function(e){function t(t){for(var a,i,s=t[0],u=t[1],c=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0151":function(e,t,n){"use strict";n.r(t);var a=n("be19"),r=n("164f");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("3a23");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"f9306e64",null);t["default"]=s.exports},"0176":function(e,t,n){},"03d1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"zegoim"}},[t("div",{staticClass:"zego-im-container"},[t("div",{staticClass:"top-banner"},[e._v("ZEGO IM")]),t("div",{staticClass:"box"},[t("Conversation"),t("Message"),t("Group",{attrs:{show:e.showGroupUI}})],1),t("toast",{attrs:{showToast:e.showToast,toastData:e.toastData},on:{"update:showToast":function(t){e.showToast=t},"update:show-toast":function(t){e.showToast=t}}}),t("BaseDialog",{directives:[{name:"show",rawName:"v-show",value:e.showBaseDialog,expression:"showBaseDialog"}],attrs:{dialogData:e.dialogData,show:e.showBaseDialog},on:{"update:show":function(t){e.showBaseDialog=t}}})],1)])},r=[]},"0577":function(e,t,n){},"0613":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e")),o=a(n("2f62"));r.default.use(o.default),t.default=new o.default.Store({state:{isLoggedIn:!1},mutations:{login:function(e){e.isLoggedIn=!0},logout:function(e){e.isLoggedIn=!1}},actions:{},modules:{}})},"0a03":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("1e09"),r=function(){function e(){var e;this.eventList=(e={},e[a.event.zimError]=[],e[a.event.zimConnectionStateChanged]=[],e[a.event.zimTokenWillExpire]=[],e[a.event.zimReceivePeerMessage]=[],e[a.event.zimReceiveGroupMessage]=[],e[a.event.zimConversationChanged]=[],e[a.event.zimConversationTotalUnreadMessageCountUpdated]=[],e[a.event.zimKitDeleteConversation]=[],e[a.event.zimKitCurrentConversationUpdate]=[],e[a.event.zimKitConversationListUpdate]=[],e[a.event.zimKitCreateGroup]=[],e[a.event.zimKitCurrentChatUpdated]=[],e[a.event.zimKitCurrentMessageListUpdated]=[],e)}return e.getInstance=function(){return 0===Object.keys(e.instance).length&&(e.instance=new e),e.instance},e.prototype.addEventListener=function(e,t,n){return this.eventList[e]?"function"!==typeof n?(console.error("zc.o.0 listener callBack must be function"),!1):(-1==this.eventList[e].indexOf(n)&&this.eventList[e].push(n),!0):(console.error("zc.o.0 event "+e+" no found"),!1)},e.prototype.removeEventListener=function(e,t,n){if(!this.eventList[e])return console.error("zc.o.1 listener no found"),!1;var a=this.eventList[e];return n?a.splice(a.indexOf(n),1):this.eventList[e]=[],!0},e.prototype.actionListener=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.eventList[e]&&this.eventList[e].forEach((function(e){e.apply(void 0,t)}))},e.instance={},e}();t.default=r},"0aa4":function(e,t,n){},"0c0f":function(e,t,n){"use strict";n("d9e2");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("f87a")),s=o(n("0a03")),u=n("1e09"),c=n("a072"),l=function(){function e(){this.zim=i.default.getInstance().zim,this.eventHandler=s.default.getInstance(),this.pagePullCount=100,this.conversationList=new Map,this.totalUnreadMessageCount=0,this.isAbnormal=!1,this.activeConversationID="",this.loaded=!1,this.initListener()}return e.getInstance=function(){return 0===Object.keys(e.instance).length&&(e.instance=new e),e.instance},e.prototype.initListener=function(){var e=this;this.eventHandler.addEventListener(u.event.zimConversationTotalUnreadMessageCountUpdated,this,(function(t){e.totalUnreadMessageCount=t})),this.eventHandler.addEventListener(u.event.zimConversationChanged,this,(function(t){return a(e,void 0,void 0,(function(){var e,n,a=this;return r(this,(function(r){return this.loaded?(e=!1,n=!1,console.log("===zimConversationChanged",t),t.infoList.forEach((function(t){switch(t.event){case 1:if(a.conversationList.size){var r=!1;a.conversationList.forEach((function(o){o.conversationID===t.conversation.conversationID&&(r=!0,a.conversationList.set(o.conversationID,t.conversation),a.activeConversationID===t.conversation.conversationID&&(n=!0),e=!0)})),r||(a.conversationList.set(t.conversation.conversationID,t.conversation),e=!0)}else a.conversationList.set(t.conversation.conversationID,t.conversation),e=!0;break;case 0:a.conversationList.set(t.conversation.conversationID,t.conversation),e=!0,a.activeConversationID||(a.activeConversationID=t.conversation.conversationID,n=!0);break}if(e&&(a.sortCvListHandle(),a.eventHandler.actionListener(u.event.zimKitConversationListUpdate,a.conversationList)),n){var o=a.conversationList.get(a.activeConversationID);a.eventHandler.actionListener(u.event.zimKitCurrentConversationUpdate,o),o.unreadMessageCount&&a.clearConversationUnreadMessageCount(o.conversationID,o.type)}})),[2]):[2]}))}))}))},e.prototype.loadConversationList=function(){return a(this,void 0,Promise,(function(){var e,t=this;return r(this,(function(n){switch(n.label){case 0:return e={nextConversation:void 0,count:localStorage.count||this.pagePullCount},[4,i.default.getInstance().zim.queryConversationList(e).then((function(e){var n;console.log("zim conversationlist",e);try{if(t.loaded=!0,t.isAbnormal=!1,t.conversationList=new Map,e.conversationList.length){if(e.conversationList.forEach((function(e){0!==e.type&&2!==e.type||t.conversationList.set(e.conversationID,e)})),t.sortCvListHandle(),t.activeConversationID||(t.activeConversationID=Array.from(t.conversationList)[0][0]),null===(n=t.conversationList.get(t.activeConversationID))||void 0===n?void 0:n.unreadMessageCount){var a=t.conversationList.get(t.activeConversationID);t.clearConversationUnreadMessageCount(a.conversationID,a.type)}t.eventHandler.actionListener(u.event.zimKitCurrentConversationUpdate,t.conversationList.get(t.activeConversationID))}t.eventHandler.actionListener(u.event.zimKitConversationListUpdate,t.conversationList)}catch(r){console.log("zim queryConversationList err",r)}})).catch((function(e){console.log("zim conversation queryConversationList err",e),t.isAbnormal=!0,(0,c.toastOperation)(!0,{name:"",duration:!0,text:e.message,type:"default"})}))];case 1:return n.sent(),[2]}}))}))},e.prototype.loadNextPage=function(){return a(this,void 0,void 0,(function(){var e,t=this;return r(this,(function(n){switch(n.label){case 0:return e={nextConversation:Array.from(this.conversationList)[this.conversationList.size-1][1],count:this.pagePullCount},[4,i.default.getInstance().zim.queryConversationList(e).then((function(e){e.conversationList.length&&(e.conversationList.forEach((function(e){0!==e.type&&2!==e.type||t.conversationList.set(e.conversationID,e)})),t.sortCvListHandle(),t.eventHandler.actionListener(u.event.zimKitConversationListUpdate,t.conversationList)),console.log("zim conversation queryConversationList success",e,t.conversationList)})).catch((function(e){console.log("zim conversation queryConversationList err",e)}))];case 1:return n.sent(),[2]}}))}))},e.prototype.deleteConversation=function(e,t){var n=this,o={isAlsoDeleteServerConversation:!0};i.default.getInstance().zim.deleteConversation(e,t,o).then((function(t){return a(n,void 0,void 0,(function(){return r(this,(function(n){return console.log("zimsdk conversation deleteConversation success",t),this.conversationList.delete(e),this.conversationList.size?e===this.activeConversationID&&(this.activeConversationID=Array.from(this.conversationList)[0][0],this.eventHandler.actionListener(u.event.zimKitCurrentConversationUpdate,this.conversationList.get(Array.from(this.conversationList)[0][0]))):this.activeConversationID="",this.eventHandler.actionListener(u.event.zimKitConversationListUpdate,this.conversationList),this.eventHandler.actionListener(u.event.zimKitDeleteConversation,e),[2]}))}))})).catch((function(e){console.log("zimsdk conversation deleteConversation err",e),(0,c.toastOperation)(!0,{name:"",duration:!0,text:e.message,type:"default"})}))},e.prototype.clearConversationUnreadMessageCount=function(e,t){i.default.getInstance().zim.clearConversationUnreadMessageCount(e,t).then((function(e){console.log("zim sdk conversation clearConversationUnreadMessageCount success",e)})).catch((function(e){console.log("zim sdk conversation clearConversationUnreadMessageCount err",e)}))},e.prototype.sortCvListHandle=function(){var e=Array.from(this.conversationList.values()).sort((function(e,t){return t.orderKey-e.orderKey}));this.conversationList=new Map(e.map((function(e){return[e.conversationID,e]})))},e.prototype.unInit=function(){this.conversationList=new Map,this.totalUnreadMessageCount=0,this.isAbnormal=!1,this.activeConversationID="",this.loaded=!1},e.instance={},e}();t.default=l},"0df0":function(e,t,n){"use strict";n("ec23")},1:function(e,t){},1328:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e")),o=a(n("951c")),i=n("a072");t.default=r.default.extend({props:["show"],data:function(){return{group:o.default.getInstance()}},methods:{copy:function(){navigator.clipboard.writeText(this.group.groupInfo.groupID),(0,i.toastOperation)(!0,{name:"",duration:!0,text:"group_copy_success",type:"default"})}}})},1601:function(e,t,n){"use strict";n.r(t);var a=n("e1d5"),r=n("4041");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("69be");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"3ed36c5b",null);t["default"]=s.exports},1635:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"main"},[t("Common")],1)},r=[]},"164f":function(e,t,n){"use strict";n.r(t);var a=n("1328"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"1bdc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["Ada","Aaliyah","Aditi","Adela","Adelaide","Adele","Adora","Afra","Agatha","Agnes","Alani","Alberta","Alice","Alma","Althea","Alva","Alexandra","Alisa","Alison","Alyssa","Amanda","Amelia","Amity","Anila","Amy","Andrea","Angela","Ann","Anna","Annabelle","Antonia","Apphia","April","Arabela","Arlene","Ashley","Astrid","Atalanta","Athena","Audrey","Aurora","Ava","Barbara","Basia","Bblythe","Beatrice","Belen","Bella","Belle","Belinda","Bernice","Bertha","Beryl","Bess","Betsy","Betty","Beulah","Beverly","Blanche","Bonnie","Breenda","Brianna","Bridget","Brook","Calista","Camille","Candice","Candance","Carol","Cara","Caroline","Carlin","Caitlin","Catherine","Cathy","Cecilia","Celeste","Charlotte","Chaya","Cheryl","Cherry","Cheryl","Chloe","Christine","Clara","Claire","Clara","Clementine","Constance","Cora","Coral","Cornelia","Crystal","Cynthia","Daisy","Dale","Dana","Damla","Daphne","Darlene","Dawn","Debby","Deborah","Deirdre","Delia","Denise","Destiny","Diana","Dinah","Dolores","Dominic","Donna","Doreen","Dora","Doris","Dorothy","Eartha","Eden","Edith","Edwina","Eileen","Elaine","Eleanore","Elizabeth","Ella","Ellen","Elma","Elsa","Elsie","Elvira","Elva","Emily","Emma","Enid","Erin","Erica","Esther","Ethel","Eudora","Eunice","Evangeline","Eve","Evelyn","Faithe","Faith","Fanny","Fay","Flora","Florence","Frances","Freda","Frederica","Gabrielle","Gail","Gemma","Genevieve","Georgia","Geraldine","Gill","Gina","Giselle","Gladys","Gloria","Grace","Griselda","Gustave","Gwendolyn","Hannah","Harriet","Hazel","Heather","Hedda","Hedwig","Hedy","Helen","Heloise","Hermosa","Hilda","Hilary","Honey","Hulda","Ida","Ina","Ingrid","Irene","Iris","Irma","Isabel","Ivy","Jacqueline","Jade","Jamie","Jane","Janet","Janice","Jean","Jennifer","Jenny","Jessie","Jessica","Jill","Jo","Joa","Joanna","Joanne","Jocelyn","Jodie","Jolie","Josephine","Joy","Joyce","Judith","Judy","Julia","Julie","Juliet","June","Kama","Karen","Kate","Katherine","Kay","Kelly","Kimberley","Kitty","Kristin","Lara","Laura","Laurel","Lauren","Lee","Leila","Lena","Leona","Lesley","Letitia","Lila","Lilith","Lillian","Linda","Lindsay","Lisa","Liz","Lola","Lorraine","Louise","Lucy","Lyuba","Lydia","Lynn","Mabel","Madge","Madeline","Maggie","Mamie","Mandy","Marcia","Margaret","Marguerite","Maria","Marina","Marian","Marjorie","Martina","Martha","Mary","Maud","Maureen","Mavis","Maxine","Mag","May","Megan","Melissa","Meroy","Meredith","Merry","Michelle","Michaelia","Mignon","Mildred","Miranda","Mirabelle","Miriam","Modesty","Moira","Molly","Mona","Monica","Muriel","Murray","Myra","Myrna","Nancy","Naomi","Natalie","Natividad","Nelly","Nicole","Nicola","Nina","Nora","Norma","Novia","Nydia","Octavia","Odelia","Odelette","Olga","Olive","Olivia","Ophelia","Pag","Page","Pamela","Pandora","Patricia","Paula","Pearl","Penny","Penelope","Philipppa","Phoebe","Phoenix","Phyllis","Polly","Poppy","Prima","Priscilla","Prudence","Queena","Quanna","Quintina","Rachel","Rae","Rebecca","Regina","Renee","Renata","Rita","Riva","Roberta","Rose","Rosalind","Rosemary","Roxanne","Ruby","Ruth","Sabina","Sabrina","Sally","Salome","Samantha","Sandra","Sandy","Sara","Sarah","Sebastiane","Selena","Sharon","Sherry","Sheila","Shirley","Sibyl","Sigrid","Simona","Sophia","Spring","Stacey","Setlla","Stephanie","Susan","Susie","Susanna","Suzanne","Sylvia","Tara","Tabitha","Tammy","Teresa","Tess","Thera","Theresa","Tiffany","Tina","Tobey","Tracy","Trista","Truda","Ula","Una","Ursula","Valerie","Vanessa","Venus","Vera","Verna","Vicky","Victoria","Viola","Violet","Virginia","Vivien","Wallis","Wanda","Wendy","Winni","Winifred","Xanthe","Xaviera","Xenia","Xylia","Yedda","Yetta","Yuri","Yvette","Yvonne","Zara","Zenobia","Zoe","Zona","Zanna","Zora"]},"1e09":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.event=void 0,function(e){e["zimError"]="error",e["zimConnectionStateChanged"]="connectionStateChanged",e["zimTokenWillExpire"]="tokenWillExpire",e["zimReceivePeerMessage"]="receivePeerMessage",e["zimReceiveGroupMessage"]="receiveGroupMessage",e["zimConversationTotalUnreadMessageCountUpdated"]="conversationTotalUnreadMessageCountUpdated",e["zimConversationChanged"]="conversationChanged",e["zimKitDeleteConversation"]="deleteConversation",e["zimKitCurrentConversationUpdate"]="currentConversationUpdate",e["zimKitConversationListUpdate"]="currentConversationListUpdate",e["zimKitCreateGroup"]="createGroup",e["zimKitCurrentChatUpdated"]="currentChatUpdated",e["zimKitCurrentMessageListUpdated"]="messageListUpdated"}(t.event||(t.event={}))},"1edd":function(e,t,n){"use strict";n("edea")},2128:function(e,t,n){"use strict";n("0176")},"2cf8":function(e,t,n){},"2ddb":function(e,t,n){"use strict";n("805c")},"30ec":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en=void 0,t.en={common_yesterday:"Yesterday",common_user_kick_out:"The user is kicked out because the ID is reused for login. ",common_monday:"Monday",common_tuesday:"Tuesday",common_wednesday:"Wednesday",common_thursday:"Thursday",common_friday:"Friday",common_saturday:"Saturday",common_sunday:"Sunday",common_logout:"Log out",common_return:"Back",conversation_start_chat_w:"New Chat",conversation_empty:"No chats. Start chatting now.",conversation_start_single_chat:"One-on-one chat",conversation_start_group_chat:"Group chat",conversation_join_group_chat:"Join a group",conversation_cancel:"Cancel",conversation_delete:"Delete",conversation_message_total_count:"Chats",conversation_reload:"Reload",conversation_enter_touserid_w:"Enter a user ID",conversation_close_chat_w:"Delete",demo_login_hint:"User ID",demo_login:"Log in",demo_user_name:"Username: %s",demo_user_name_w:"Random nickname",demo_welcome:"Hi, welcome to ZEGOCLOUD In-app Chat.",demo_input_user_id_error_tips:"The userID must be between 6-12 characters using letters and numbers.",demo_user_id_login:"User Login",group_create_chat:"OK",group_input_group_id:"Group ID",group_input_group_id_w:"Group ID",group_input_group_name:"Group name",group_input_user_id_of_group:"Enter the user IDS of the group members, separated by ';'.",group_input_user_id_of_group_w:"Enter the user IDS of the group members, separated by ';'.",group_user_id_cant_null:"User ID is required.",group_create_group_chat_title:"New group chat",group_join_group_chat:"Join a group chat",group_user_not_exit:"The user doesn't exist.",group_group_not_exit:"The group doesn't exist.",group_group_user_id_not_exit:"The user ID (%s) doesn't exist. Please modify and try again.",group_group_user_id_not_exit_w:"Please modify and try again.",group_group_id_not_exit:"The group doesn't exist. Please try again.",group_group_id_not_exit_w:"It doesn't exist. Please modify and try again.",group_input_user_id_error_tip:"The userID must be between 6-12 characters using letters and numbers.",group_group_id:"Group ID",group_copy:"Copy",group_copy_success:"Copied.",message_input_new_message:"",message_user_not_exit_please_again:"The user ID (%s) doesn't exist. Please try again.",message_user_not_exit_please_again_w_1:"User ID",message_user_not_exit_please_again_w_2:"It doesn't exist. Please try again.",message_cant_send_empty_msg:"Blank messages are not allowed",message_create_chat:"OK",message_input_user_id_error_tips:"The userID must be between 6-12 characters using letters and numbers.",message_create_single_chat:"New 1-on-1 chat",message_send_w:"Send",message_empty_w:"No messages received."}},"321c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZIMKitMessageType=void 0;var a=function(){function e(e){this.type=e.type,this.messageID=e.messageID,this.timestamp=e.timestamp,this.message=e.message,this.senderUserID=e.senderUserID,this.conversationID=e.conversationID,this.conversationType=e.conversationType,this.direction=e.direction,this.sentStatus=e.sentStatus,this.orderKey=e.orderKey,this.conversationSeq=e.conversationSeq}return e}();t.default=a,function(e){e[e["Tip"]=99]="Tip"}(t.ZIMKitMessageType||(t.ZIMKitMessageType={}))},"341e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"dialog"},[t("div",{staticClass:"top"},e._l(e.textList,(function(n){return t("div",{key:n.id,staticClass:"title",class:{actived:n.actived},on:{click:function(t){return e.titleClick(n)}}},[e._v(" "+e._s(e.$t(n.text))+" ")])})),0),t("div",{staticClass:"content"},[1===e.currentActived?[t("div",{staticClass:"peer"},[t("div",{staticClass:"input-box"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.toUserID,expression:"toUserID"}],attrs:{type:"text",placeholder:e.$t("conversation_enter_touserid_w")},domProps:{value:e.toUserID},on:{input:[function(t){t.target.composing||(e.toUserID=t.target.value)},e.toUserIDInput]}}),e.peerErrTip?t("div",{staticClass:"err-tip"},[e._v(e._s(e.$t("message_input_user_id_error_tips")))]):e._e()]),t("div",{staticClass:"btn-box"},[t("button",{staticClass:"btn cancel-btn",on:{click:e.closeDialog}},[e._v(e._s(e.$t("conversation_cancel")))]),t("button",{staticClass:"btn create-peer-btn",attrs:{disabled:e.peerDisabled},on:{click:function(t){return e.createChat("peer")}}},[e._v(e._s(e.$t("conversation_start_single_chat")))])])])]:e._e(),2===e.currentActived?[t("div",{staticClass:"group"},[t("div",{staticClass:"input-box"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.groupName,expression:"groupName"}],attrs:{type:"text",placeholder:e.$t("group_input_group_name"),maxlength:"12"},domProps:{value:e.groupName},on:{input:[function(t){t.target.composing||(e.groupName=t.target.value)},e.groupNameInput]}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userIDList,expression:"userIDList"}],attrs:{type:"text",placeholder:e.$t("group_input_user_id_of_group")},domProps:{value:e.userIDList},on:{input:[function(t){t.target.composing||(e.userIDList=t.target.value)},e.userIDListInput]}}),e.groupErrTip?t("div",{staticClass:"err-tip"},[e._v(e._s(e.$t("message_input_user_id_error_tips")))]):e._e()]),t("div",{staticClass:"btn-box"},[t("button",{staticClass:"btn cancel-btn",on:{click:e.closeDialog}},[e._v(e._s(e.$t("conversation_cancel")))]),t("button",{staticClass:"btn create-peer-btn",attrs:{disabled:e.groupDisabled},on:{click:function(t){return e.createChat("group")}}},[e._v(e._s(e.$t("conversation_start_group_chat")))])])])]:e._e(),3===e.currentActived?[t("div",{staticClass:"attend"},[t("div",{staticClass:"input-box"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.groupID,expression:"groupID"}],attrs:{type:"text",placeholder:e.$t("group_input_group_id_w")},domProps:{value:e.groupID},on:{input:[function(t){t.target.composing||(e.groupID=t.target.value)},e.toUserIDInput]}})]),t("div",{staticClass:"btn-box"},[t("button",{staticClass:"btn cancel-btn",on:{click:e.closeDialog}},[e._v(e._s(e.$t("conversation_cancel")))]),t("button",{staticClass:"btn create-peer-btn",attrs:{disabled:!e.groupID},on:{click:e.joinGroup}},[e._v(e._s(e.$t("conversation_join_group_chat")))])])])]:e._e()],2)])},r=[]},3459:function(e,t,n){"use strict";n("d9e2");var a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ZIMWeb=void 0;var r=n("f377"),o=n("e20a"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.create=function(e){return t.instance||(t.instance=r.ZIM.create(e)),t.instance},t.getInstance=function(){return t.instance},t.prototype.on=function(e,n){return t.instance.on(e,n)},t.prototype.off=function(e){return t.instance.off(e)},t.prototype.login=function(e,n){return t.instance.login(e,n)},t.prototype.logout=function(){return t.instance.logout()},t.prototype.destroy=function(){return t.instance.destroy()},t.prototype.renewToken=function(e){return t.instance.renewToken(e)},t.prototype.queryConversationList=function(e){return t.instance.queryConversationList(e)},t.prototype.createGroup=function(e,n,a){return t.instance.createGroup(e,n,a)},t.prototype.sendPeerMessage=function(e,n,a){return t.instance.sendPeerMessage(e,n,a)},t.prototype.sendGroupMessage=function(e,n,a){return t.instance.sendGroupMessage(e,n,a)},t.prototype.queryHistoryMessage=function(e,n,a){return t.instance.queryHistoryMessage(e,n,a)},t.prototype.deleteConversation=function(e,n,a){return t.instance.deleteConversation(e,n,a)},t.prototype.clearConversationUnreadMessageCount=function(e,n){return t.instance.clearConversationUnreadMessageCount(e,n)},t.prototype.queryGroupInfo=function(e){return t.instance.queryGroupInfo(e)},t.prototype.queryGroupMemberList=function(e,n){return t.instance.queryGroupMemberList(e,n)},t.prototype.joinGroup=function(e){return t.instance.joinGroup(e)},t.prototype.leaveGroup=function(e){return t.instance.leaveGroup(e)},t}(o.ZIMBase);t.ZIMWeb=i},3703:function(e,t,n){"use strict";n("d9e2"),n("f8c9");var a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__decorate||function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("1b40"),s=o(n("e2ca")),u=o(n("1601")),c=o(n("58ea")),l=o(n("0151")),d=o(n("f87a")),f=n("f00f"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.beforeMount=function(){this.$store.state.isLoggedIn||this.$router.push({name:"Login"}),d.default.getInstance().registerConnectionCallback(this.connectionCallback())},t.prototype.beforeDestroy=function(){d.default.getInstance().removeConnectionCallback(this.connectionCallback())},t.prototype.connectionCallback=function(){var e=this;return function(t){(0===t.state&&4===t.event||0===t.state&&0===t.event)&&(e.$router.push({name:"Login"}),e.$store.commit("logout"),(0,f.clearCacheUserInfo)())}},t=r([(0,i.Component)({components:{Common:s.default,Conversation:u.default,Message:c.default,Group:l.default}})],t),t}(i.Vue);t.default=p},"3a23":function(e,t,n){"use strict";n("2cf8")},"3afe":function(e,t,n){"use strict";n("3b03")},"3b03":function(e,t,n){},"3b36":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZIMPlatformManage=void 0;var a=function(){function e(e){this.platform=e}return e}();t.ZIMPlatformManage=a},"3dfd":function(e,t,n){"use strict";n.r(t);var a=n("e596"),r=n("6f68");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("1edd");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},"3ec3":function(e,t,n){"use strict";n.r(t);var a=n("3703"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},4041:function(e,t,n){"use strict";n.r(t);var a=n("c586"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},4111:function(e,t,n){"use strict";n("0577")},"4ad9":function(e,t,n){"use strict";n.r(t);var a=n("ecbf"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},5337:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"login-box"},[t("div",{staticClass:"welcome-box"},[t("div",{staticClass:"welcome-text"},[e._v(e._s(e.$t("demo_welcome")))])]),t("div",{staticClass:"form"},[t("div",{staticClass:"id"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("demo_user_id_login")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userID,expression:"userID"}],attrs:{placeholder:e.$t("demo_input_user_id_error_tips")},domProps:{value:e.userID},on:{input:[function(t){t.target.composing||(e.userID=t.target.value)},e.getUserID]}}),e.errTip?t("div",{staticClass:"login-err-tip"},[e._v(e._s(e.$t("demo_input_user_id_error_tips")))]):e._e()]),t("div",{staticClass:"name"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("demo_user_name_w")))]),t("div",{staticClass:"user-name"},[e._v(e._s(e.userName))])]),t("button",{staticClass:"login-btn",attrs:{disabled:e.loginDisabled},on:{click:e.loginFun}},[e._v(e._s(e.$t("demo_login")))])])])])},r=[]},"53b8":function(e,t,n){"use strict";n("907a"),n("3c5d"),n("fa9e"),n("77d9"),n("b7ef");var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateToken=void 0;var r=a(n("3452"));function o(e,t,n){if(!e)return"";var a=Date.now()/1e3|0,o={app_id:n.appID,user_id:e,nonce:2147483647*Math.random()|0,ctime:a,expire:a+(t||7200)},i=r.default.enc.Utf8.parse(n.serverSecret),s=Math.random().toString().substring(2,18);s.length<16&&(s+=s.substring(0,16-s.length));var u=r.default.AES.encrypt(JSON.stringify(o),i,{iv:r.default.enc.Utf8.parse(s)}).toString(),c=Uint8Array.from(Array.from(atob(u)).map((function(e){return e.charCodeAt(0)}))),l=c.length,d=new Uint8Array(28+l);d.set([0,0,0,0]),d.set(new Uint8Array(Int32Array.from([o.expire]).buffer).reverse(),4),d[8]=s.length>>8,d[9]=s.length-(d[8]<<8),d.set(Uint8Array.from(Array.from(s).map((function(e){return e.charCodeAt(0)}))),10),d[26]=l>>8,d[27]=l-(d[26]<<8),d.set(c,28);var f="04".concat(btoa(String.fromCharCode.apply(String,Array.from(d))));return f}t.generateToken=o},"55b5":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserName=t.createRandomName=t.addCacheUserToList=t.getCacheUserList=t.clearCacheUserInfo=t.setCacheUserInfo=t.getCacheUserInfo=void 0;var r=a(n("6c24")),o=function(){return localStorage.userInfo?JSON.parse(localStorage.userInfo):null};t.getCacheUserInfo=o;var i=function(e){localStorage.setItem("userInfo",JSON.stringify(e))};t.setCacheUserInfo=i;var s=function(){localStorage.removeItem("userInfo")};t.clearCacheUserInfo=s;var u=function(){return localStorage.userList?JSON.parse(localStorage.userList):null};t.getCacheUserList=u;var c=function(e){var t=localStorage.userList?JSON.parse(localStorage.userList):[],n=t.find((function(t){return e.userID===t.userID}));!n&&t.push(e),localStorage.setItem("userList",JSON.stringify(t))};t.addCacheUserToList=c;var l=function(){return r.default[Math.floor(Math.random()*r.default.length)]};t.createRandomName=l;var d=function(e){var n=(0,t.getCacheUserList)(),a=(0,t.createRandomName)(),r={userName:"",verify:!0};return e.length?n&&n.some((function(t){return t.userID===e}))?r.userName=n.filter((function(t){return t.userID===e}))[0].userName:r.userName=a:(r.verify=!1,r.userName=a),r};t.getUserName=d},"56b9":function(e,t,n){"use strict";var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("2b0e"));t.default=new o.default({methods:{on:function(e,t){return this.$on(e,t),this},once:function(e,t){return this.$once(e,t),this},off:function(e,t){return this.$off(e,t),this},emit:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.$emit.apply(this,a([e],t,!1)),this}}})},"57be":function(e,t,n){},"58ea":function(e,t,n){"use strict";n.r(t);var a=n("a67b"),r=n("ad8c");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("f5cf");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"5878519c",null);t["default"]=s.exports},"59f5":function(e,t,n){"use strict";n.r(t);var a=n("8441"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"5d7c":function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZIMAdapter=void 0;var i=n("f377"),s=n("3b36"),u=Object({NODE_ENV:"production",BASE_URL:"/"}).PLATFORM||"web",c=function(){function e(){}return e.initPlatform=function(){return"web"===u?(e.zimPlatformManage=new s.ZIMPlatformManage(i.ZIMPlatform.Web),Promise.resolve().then((function(){return o(n("3459"))})).then((function(t){e.zimModule=t.ZIMWeb}))):Promise.resolve()},e.getInstance=function(){return e.zimModule.getInstance()},e.create=function(t){return e.zimModule.create(t)},e.prototype.on=function(t,n){return e.getInstance().on(t,n)},e.prototype.off=function(t){return e.getInstance().off(t)},e.prototype.login=function(t,n){return e.getInstance().login(t,n)},e.prototype.logout=function(){return e.getInstance().logout()},e.prototype.destroy=function(){return e.getInstance().destroy()},e.prototype.renewToken=function(t){return e.getInstance().renewToken(t)},e.prototype.queryConversationList=function(t){return e.getInstance().queryConversationList(t)},e.prototype.createGroup=function(t,n,a){return e.getInstance().createGroup(t,n,a)},e.prototype.sendPeerMessage=function(t,n,a){return e.getInstance().sendPeerMessage(t,n,a)},e.prototype.sendGroupMessage=function(t,n,a){return e.getInstance().sendGroupMessage(t,n,a)},e.prototype.queryHistoryMessage=function(t,n,a){return e.getInstance().queryHistoryMessage(t,n,a)},e.prototype.deleteConversation=function(t,n,a){return e.getInstance().deleteConversation(t,n,a)},e.prototype.clearConversationUnreadMessageCount=function(t,n){return e.getInstance().clearConversationUnreadMessageCount(t,n)},e.prototype.queryGroupInfo=function(t){return e.getInstance().queryGroupInfo(t)},e.prototype.queryGroupMemberList=function(t,n){return e.getInstance().queryGroupMemberList(t,n)},e.prototype.joinGroup=function(t){return e.getInstance().joinGroup(t)},e.prototype.leaveGroup=function(t){return e.getInstance().leaveGroup(t)},e}();t.ZIMAdapter=c},6566:function(e,t,n){"use strict";n("d9e2");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("2b0e")),s=o(n("de16")),u=o(n("951c")),c=n("f527");t.default=i.default.extend({data:function(){return{message:"",userInfo:JSON.parse(localStorage.userInfo),oldScrollHeight:0,newScrollHeight:0,currentChat:{},currentMessageList:[]}},mounted:function(){var e=this;s.default.getInstance().registerCurrentChatUpdatedCallback((function(t){e.currentChat=t,e.message="",e.$nextTick((function(){e.scrollToBottom();var t=document.getElementsByClassName("text-area")[0];t&&t.focus()}))})),s.default.getInstance().registerMessageListUpdatedCallback((function(t){e.currentMessageList=t}))},beforeDestroy:function(){s.default.getInstance().unInit()},methods:{sendMessage:function(){var e={type:1,message:this.message};2===s.default.getInstance().currentChat.type?s.default.getInstance().sendGroupMessage(e):s.default.getInstance().sendPeerMessage(e),this.message=""},getGroupUserName:function(e){if(u.default.getInstance().memberList.length&&u.default.getInstance().memberList.some((function(t){return t.userID===e}))){var t=u.default.getInstance().memberList.filter((function(t){return t.userID===e}))[0];return t.userName}return e},dateFormat:function(e,t){return console.log("previous",e.messageID,t,s.default.getInstance().currentMessageList[0].messageID),t&&e.timestamp-t.timestamp>3e5||e.messageID===s.default.getInstance().currentMessageList[0].messageID?(0,c.dateFormat)(e.timestamp,!0):void 0},listScroll:function(){return a(this,void 0,void 0,(function(){var e,t,n,a=this;return r(this,(function(r){switch(r.label){case 0:return e=document.querySelector(".message-content"),t=Math.round(e.scrollTop),n=e.scrollHeight,0!=t?[3,2]:s.default.getInstance().messageCount<=s.default.getInstance().currentMessageList.length?(s.default.getInstance().messageCount=s.default.getInstance().currentMessageList.length+30,[4,s.default.getInstance().queryHistoryMessage(s.default.getInstance().currentChat.conversationID,s.default.getInstance().currentChat.type)]):[3,2];case 1:r.sent(),this.oldScrollHeight=n,this.$nextTick((function(){a.newScrollHeight=e.scrollHeight,e.scrollTop=a.newScrollHeight-a.oldScrollHeight})),r.label=2;case 2:return[2]}}))}))},scrollToBottom:function(){var e=document.querySelector(".message-content");if(e){var t=Number(e.scrollHeight)-Number(e.clientHeight);e.scrollTop=t}}}})},"675f":function(e,t,n){"use strict";n.r(t);var a=n("aecc"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"69be":function(e,t,n){"use strict";n("ab34")},"6bdc":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"dialog"},[e.dialogData.hasCloseBtn?t("div",{staticClass:"close-icon",on:{click:e.close}}):e._e(),t("div",{staticClass:"title"},[e._v(e._s(e.dialogData.title))]),t("div",{staticClass:"desc"},[e._v(e._s(e.dialogData.desc))]),t("div",{staticClass:"line"}),t("div",{staticClass:"btn-box"},[e.dialogData.cancelText?t("button",{staticClass:"btn cancel",on:{click:function(t){return e.clickBtn("cancel")}}},[e._v(e._s(e.dialogData.cancelText))]):e._e(),e.dialogData.confirmText?t("button",{staticClass:"btn confirm",on:{click:function(t){return e.clickBtn("confirm")}}},[e._v(e._s(e.dialogData.confirmText))]):e._e()])])])},r=[]},"6c24":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["Ada","Aaliyah","Aditi","Adela","Adelaide","Adele","Adora","Afra","Agatha","Agnes","Alani","Alberta","Alice","Alma","Althea","Alva","Alexandra","Alisa","Alison","Alyssa","Amanda","Amelia","Amity","Anila","Amy","Andrea","Angela","Ann","Anna","Annabelle","Antonia","Apphia","April","Arabela","Arlene","Ashley","Astrid","Atalanta","Athena","Audrey","Aurora","Ava","Barbara","Basia","Bblythe","Beatrice","Belen","Bella","Belle","Belinda","Bernice","Bertha","Beryl","Bess","Betsy","Betty","Beulah","Beverly","Blanche","Bonnie","Breenda","Brianna","Bridget","Brook","Calista","Camille","Candice","Candance","Carol","Cara","Caroline","Carlin","Caitlin","Catherine","Cathy","Cecilia","Celeste","Charlotte","Chaya","Cheryl","Cherry","Cheryl","Chloe","Christine","Clara","Claire","Clara","Clementine","Constance","Cora","Coral","Cornelia","Crystal","Cynthia","Daisy","Dale","Dana","Damla","Daphne","Darlene","Dawn","Debby","Deborah","Deirdre","Delia","Denise","Destiny","Diana","Dinah","Dolores","Dominic","Donna","Doreen","Dora","Doris","Dorothy","Eartha","Eden","Edith","Edwina","Eileen","Elaine","Eleanore","Elizabeth","Ella","Ellen","Elma","Elsa","Elsie","Elvira","Elva","Emily","Emma","Enid","Erin","Erica","Esther","Ethel","Eudora","Eunice","Evangeline","Eve","Evelyn","Faithe","Faith","Fanny","Fay","Flora","Florence","Frances","Freda","Frederica","Gabrielle","Gail","Gemma","Genevieve","Georgia","Geraldine","Gill","Gina","Giselle","Gladys","Gloria","Grace","Griselda","Gustave","Gwendolyn","Hannah","Harriet","Hazel","Heather","Hedda","Hedwig","Hedy","Helen","Heloise","Hermosa","Hilda","Hilary","Honey","Hulda","Ida","Ina","Ingrid","Irene","Iris","Irma","Isabel","Ivy","Jacqueline","Jade","Jamie","Jane","Janet","Janice","Jean","Jennifer","Jenny","Jessie","Jessica","Jill","Jo","Joa","Joanna","Joanne","Jocelyn","Jodie","Jolie","Josephine","Joy","Joyce","Judith","Judy","Julia","Julie","Juliet","June","Kama","Karen","Kate","Katherine","Kay","Kelly","Kimberley","Kitty","Kristin","Lara","Laura","Laurel","Lauren","Lee","Leila","Lena","Leona","Lesley","Letitia","Lila","Lilith","Lillian","Linda","Lindsay","Lisa","Liz","Lola","Lorraine","Louise","Lucy","Lyuba","Lydia","Lynn","Mabel","Madge","Madeline","Maggie","Mamie","Mandy","Marcia","Margaret","Marguerite","Maria","Marina","Marian","Marjorie","Martina","Martha","Mary","Maud","Maureen","Mavis","Maxine","Mag","May","Megan","Melissa","Meroy","Meredith","Merry","Michelle","Michaelia","Mignon","Mildred","Miranda","Mirabelle","Miriam","Modesty","Moira","Molly","Mona","Monica","Muriel","Murray","Myra","Myrna","Nancy","Naomi","Natalie","Natividad","Nelly","Nicole","Nicola","Nina","Nora","Norma","Novia","Nydia","Octavia","Odelia","Odelette","Olga","Olive","Olivia","Ophelia","Pag","Page","Pamela","Pandora","Patricia","Paula","Pearl","Penny","Penelope","Philipppa","Phoebe","Phoenix","Phyllis","Polly","Poppy","Prima","Priscilla","Prudence","Queena","Quanna","Quintina","Rachel","Rae","Rebecca","Regina","Renee","Renata","Rita","Riva","Roberta","Rose","Rosalind","Rosemary","Roxanne","Ruby","Ruth","Sabina","Sabrina","Sally","Salome","Samantha","Sandra","Sandy","Sara","Sarah","Sebastiane","Selena","Sharon","Sherry","Sheila","Shirley","Sibyl","Sigrid","Simona","Sophia","Spring","Stacey","Setlla","Stephanie","Susan","Susie","Susanna","Suzanne","Sylvia","Tara","Tabitha","Tammy","Teresa","Tess","Thera","Theresa","Tiffany","Tina","Tobey","Tracy","Trista","Truda","Ula","Una","Ursula","Valerie","Vanessa","Venus","Vera","Verna","Vicky","Victoria","Viola","Violet","Virginia","Vivien","Wallis","Wanda","Wendy","Winni","Winifred","Xanthe","Xaviera","Xenia","Xylia","Yedda","Yetta","Yuri","Yvette","Yvonne","Zara","Zenobia","Zoe","Zona","Zanna","Zora"]},"6f68":function(e,t,n){"use strict";n.r(t);var a=n("78c7"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"78c7":function(e,t,n){"use strict";n("d9e2"),n("f8c9");var a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__decorate||function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n("1b40"),c=s(n("f87a")),l=n("f00f"),d=n("53b8"),f=s(n("d70b")),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheUserInfo=(0,l.getCacheUserInfo)(),t}return a(t,e),t.prototype.beforeMount=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(a){switch(a.label){case 0:return e=new c.default,[4,e.createZIM(f.default)];case 1:return a.sent(),this.cacheUserInfo?(t=(0,d.generateToken)(this.cacheUserInfo.userID,0,f.default),[4,c.default.getInstance().loginWithUserInfo(this.cacheUserInfo,t).then((function(){n.$store.commit("login"),n.$router.push({name:"Main"})}))]):[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},t=r([(0,u.Component)({components:{}})],t),t}(u.Vue);t.default=p},8005:function(e,t,n){"use strict";n.r(t);var a=n("f418"),r=n("675f");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("9f2d");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"4c15af44",null);t["default"]=s.exports},8031:function(e,t,n){"use strict";n("0aa4")},"805c":function(e,t,n){},8441:function(e,t,n){"use strict";n("d9e2");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("f87a")),s=n("53b8"),u=n("f00f"),c=o(n("d70b")),l=n("55b5");t.default={data:function(){return{userID:"",userName:"",errTip:!1,loginDisabled:!1}},beforeMount:function(){return a(this,void 0,void 0,(function(){return r(this,(function(e){return this.userName=(0,l.getUserName)("").userName,[2]}))}))},methods:{getUserID:function(e){e.target.value.length?(this.userName=(0,l.getUserName)(e.target.value).userName,e.target.value.length<6||e.target.value.length>12?(this.errTip=!0,this.loginDisabled=!0):(this.loginDisabled=!1,this.errTip=!1)):(this.errTip=!1,this.loginDisabled=!0)},loginFun:function(){var e=this,t=(0,s.generateToken)(this.userID,0,c.default),n={userID:this.userID,userName:this.userName};i.default.getInstance().loginWithUserInfo(n,t).then((function(t){console.log("loginWithUserInfo res",t),(0,u.setCacheUserInfo)(n),(0,u.addCacheUserToList)(n),e.$store.commit("login"),e.$router.push({name:"Main"})})).catch((function(t){console.log("loginWithUserInfo err",t),e.errTip=!0,e.loginDisabled=!0}))}}}},"883d":function(e,t,n){"use strict";n.r(t);var a=n("addd"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},9053:function(e,t,n){},"951c":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("f87a")),o=a(n("0a03")),i=n("1e09"),s=function(){function e(){this.memberList=[],this.eventHandler=o.default.getInstance(),this.showView=!1,this.initListener()}return e.getInstance=function(){return 0===Object.keys(this.instance).length&&(this.instance=new e),this.instance},e.prototype.initListener=function(){var e=this;this.eventHandler.addEventListener(i.event.zimKitCurrentConversationUpdate,this,(function(t){2===t.type&&(e.groupInfo={groupID:t.conversationID,groupName:t.conversationName},e.queryGroupMemberList(t.conversationID))}))},e.prototype.createGroup=function(e,t,n){var a={groupID:e,groupName:t},o={groupNotice:"",groupAttributes:{}};return r.default.getInstance().zim.createGroup(a,n,o)},e.prototype.queryGroupMemberList=function(e){var t=this,n={count:100,nextFlag:0};return r.default.getInstance().zim.queryGroupMemberList(e,n).then((function(e){console.log("queryGroupMemberList success",e),t.memberList=e.userList})).catch((function(e){console.log("queryGroupMemberList err",e)}))},e.prototype.joinGroup=function(e){var t=this;return r.default.getInstance().zim.joinGroup(e).then((function(e){console.log("zim joingroup success",e,t.groupInfo)})).catch((function(e){console.log("zim joingroup err",e)}))},e.prototype.leaveGroup=function(e){return r.default.getInstance().zim.leaveGroup(e).then((function(e){console.log("zim leavegroup success",e)})).catch((function(e){console.log("zim leavegroup err",e)}))},e.prototype.queryGroupInfo=function(e){return r.default.getInstance().zim.queryGroupInfo(e)},e.instance={},e}();t.default=s},"972e":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e"));n("db14");var o=a(n("f247")),i=a(n("e213")),s=a(n("56b9")),u=a(n("1601")),c=a(n("58ea")),l=a(n("0151"));t.default=r.default.extend({components:{Toast:o.default,BaseDialog:i.default,Conversation:u.default,Message:c.default,Group:l.default},data:function(){return{toastData:{text:"",name:"",type:"default"},showToast:!1,dialogData:{title:"",desc:"",cancelText:"",confirmText:"",hasCloseBtn:!1},showBaseDialog:!1,showGroupUI:!1}},mounted:function(){var e=this;s.default.on("toastOperation",(function(t,n){e.toastData=n,e.showToast=t})),s.default.on("dialogOperation",(function(t,n){e.dialogData=n,e.showBaseDialog=t})),s.default.on("groupUIOperation",(function(){e.showGroupUI=!e.showGroupUI,console.log("===",e.showGroupUI)}))}})},"9f2d":function(e,t,n){"use strict";n("9053")},a072:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.groupUIOperation=t.dialogOperation=t.toastOperation=void 0;var r=a(n("56b9")),o=function(e,t){r.default.emit("toastOperation",e,t)};t.toastOperation=o;var i=function(e,t){r.default.emit("dialogOperation",e,t)};t.dialogOperation=i;var s=function(){r.default.emit("groupUIOperation")};t.groupUIOperation=s},a55b:function(e,t,n){"use strict";n.r(t);var a=n("5337"),r=n("59f5");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("8031");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"ff2f055c",null);t["default"]=s.exports},a67b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"chat"},[e.currentChat.conversationID?[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[e._v(e._s(e.currentChat.conversationName||e.currentChat.conversationID))]),2===e.currentChat.type?t("div",{staticClass:"more-icon"}):e._e()]),t("div",{staticClass:"message-content",on:{scroll:function(t){return e.listScroll()}}},e._l(e.currentMessageList,(function(n,a){return t("div",{key:n.messageID,staticClass:"message-item"},[e.dateFormat(n,e.currentMessageList[a-1])?t("div",{staticClass:"time-box"},[e._v(" "+e._s(e.dateFormat(n,e.currentMessageList[a-1]))+" ")]):e._e(),n.senderUserID!==e.userInfo.userID?[t("div",{staticClass:"left-msg"},[t("div",{staticClass:"head-portrait"},[e._v(" "+e._s(2===n.conversationType?e.getGroupUserName(n.senderUserID).substr(0,1).toLowerCase():e.currentChat.conversationName.substr(0,1).toLowerCase())+" ")]),t("div",{staticClass:"message-box"},[2===n.conversationType?t("div",{staticClass:"send-name"},[e._v(e._s(e.getGroupUserName(n.senderUserID)))]):e._e(),t("div",{staticClass:"msg-text"},[e._v(e._s(n.message))])])])]:99===n.type?[t("div",{staticClass:"center-msg"},[e._v(" "+e._s(n.message)+" ")])]:[t("div",{staticClass:"right-msg"},[99!==n.type&&2===n.sentStatus?t("div",{staticClass:"err-icon"}):e._e(),t("div",{staticClass:"message-box"},[t("div",{staticClass:"msg-text"},[e._v(e._s(n.message))])]),t("div",{staticClass:"head-portrait"},[e._v(e._s(e.userInfo.userName.substr(0,1).toLowerCase()))])])]],2)})),0),t("div",{staticClass:"send-box"},[t("div",{staticClass:"tool-box"}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"textarea",staticClass:"text-area",domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),t("button",{staticClass:"btn send-button",attrs:{disabled:!e.message},on:{click:e.sendMessage}},[e._v(e._s(e.$t("message_send_w")))])])]:[e._m(0)]],2)},r=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"default-content"},[t("div",{staticClass:"img"}),t("div",{staticClass:"text"},[e._v("暂时还没有收到消息")])])}]},aaa2:function(e,t,n){"use strict";n.r(t);var a=n("972e"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},ab34:function(e,t,n){},ace9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showToast&&e.toastData.text?t("transition",{attrs:{name:"fade"}},[t("div",{staticClass:"default",class:{loading:"loading"===e.toastData.type}},[t("div",{staticClass:"toast",class:{error:"error"===e.toastData.type}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.toastData.name,expression:"toastData.name"}],staticClass:"name"},[e._v(e._s(e.toastData.name))]),t("span",{staticClass:"text"},[e._v(e._s(e.$t(e.toastData.text)))])])])]):e._e()},r=[]},ad8c:function(e,t,n){"use strict";n.r(t);var a=n("6566"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},addd:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e"));t.default=r.default.extend({props:["toastData","showToast"],data:function(){return{duration:2e3}},beforeUpdate:function(){var e=this;this.showToast&&(clearTimeout(),setTimeout((function(){e.$emit("update:showToast",!1)}),this.duration))},methods:{}})},aecc:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e")),o=a(n("0c0f"));t.default=r.default.extend({props:["x","y","conversationItem"],data:function(){return{conversation:o.default.getInstance()}},methods:{closeConversation:function(){this.conversation.deleteConversation(this.conversationItem.conversationID,this.conversationItem.type)}}})},afbc:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("2b0e")),u=i(n("8c4f"));s.default.use(u.default);var c=[{path:"/",redirect:{name:"Login"}},{path:"/login",name:"Login",component:function(){return Promise.resolve().then((function(){return o(n("a55b"))}))}},{path:"/index",name:"Main",component:function(){return Promise.resolve().then((function(){return o(n("cd56"))}))}}],l=new u.default({mode:"history",base:"/",routes:c});t.default=l},be19:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.show?t("div",{staticClass:"group-container"},[t("div",{staticClass:"form-box"},[t("div",{staticClass:"id"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("group_group_id")))]),t("div",{staticClass:"value"},[e._v(e._s(this.group.groupInfo.groupID))])]),t("div",{staticClass:"btn copy-btn",on:{click:e.copy}},[e._v(e._s(e.$t("group_copy")))])])]):e._e()},r=[]},c051:function(e,t,n){"use strict";n.r(t);var a=n("cad5"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},c586:function(e,t,n){"use strict";n("d9e2");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("2b0e")),s=o(n("0c0f")),u=o(n("951c")),c=o(n("f87a")),l=o(n("d311")),d=o(n("8005")),f=n("f527"),p=n("a072"),v=n("1e09"),h=o(n("0a03"));t.default=i.default.extend({components:{CreatChatDialog:l.default,RightClickDialog:d.default},data:function(){return{conversation:s.default.getInstance(),createChatDialog:!1,group:u.default.getInstance(),zimkit:c.default.getInstance(),rightClickDialog:!1,x:0,y:0,conversationItem:{},eventHandler:h.default.getInstance(),conversationList:new Map}},mounted:function(){return a(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){switch(t.label){case 0:return window.addEventListener("click",this.handleClick),h.default.getInstance().addEventListener(v.event.zimKitConversationListUpdate,this,(function(t){e.conversationList=new Map(t)})),this.$store.state.isLoggedIn?[4,s.default.getInstance().loadConversationList()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},beforeDestroy:function(){s.default.getInstance().unInit(),window.removeEventListener("click",this.handleClick)},methods:{nameFormat:function(e){return e.conversationName?e.conversationName.substr(0,1).toLowerCase():e.conversationID.substr(0,1).toLowerCase()},dateFormat:function(e){return e?(0,f.dateFormat)(e,!1):""},switchConversation:function(e){return a(this,void 0,void 0,(function(){return r(this,(function(t){return this.conversation.activeConversationID=e.conversationID,e.unreadMessageCount&&this.conversation.clearConversationUnreadMessageCount(e.conversationID,e.type),this.eventHandler.actionListener(v.event.zimKitCurrentConversationUpdate,e),[2]}))}))},triggerDialog:function(){this.createChatDialog=!0},closeDialog:function(){this.createChatDialog=!1},createChat:function(e){this.createChatDialog=!1;var t=this.conversationList.get(e);if(t)this.conversation.activeConversationID=t.conversationID,this.eventHandler.actionListener(v.event.zimKitCurrentConversationUpdate,t);else{var n={conversationID:e,conversationName:e,type:0};this.conversation.activeConversationID="",this.eventHandler.actionListener(v.event.zimKitCurrentConversationUpdate,n)}},createGroupChat:function(e,t){var n=this,a=t.split(";");u.default.getInstance().createGroup("",e,a).then((function(e){var t=e.groupInfo,a=e.errorUserList,r=t.baseInfo;if(a.length){var o=a.map((function(e){return e.userID})).join(" ");(0,p.dialogOperation)(!0,{desc:"用户ID ".concat(o," 不存在，请返回修改"),cancelText:"返回",hasCloseBtn:!1})}else{n.createChatDialog=!1;var i={conversationID:r.groupID,conversationName:r.groupName,type:2};n.conversation.activeConversationID="",n.eventHandler.actionListener(v.event.zimKitCurrentConversationUpdate,i)}}))},operationConversation:function(e,t){this.rightClickDialog=!0,this.x=e.layerX,this.y=e.layerY,this.conversationItem=t},logout:function(){c.default.getInstance().logout()},listScroll:function(){return a(this,void 0,void 0,(function(){var e,t,n,a;return r(this,(function(r){return e=document.querySelector(".conversation-content"),t=Math.round(e.scrollTop),n=e.scrollHeight,a=e.clientHeight,t>=n-a&&this.conversation.loadNextPage(),[2]}))}))},scrollToBottom:function(){var e=document.querySelector(".message-content"),t=Number(e.scrollHeight)-Number(e.clientHeight);e.scrollTop=t},joinGroup:function(e){var t=this;this.group.joinGroup(e).then((function(n){if(n.code)switch(n.code){case 6000523:(0,p.dialogOperation)(!0,{title:"",desc:"群聊ID ".concat(e," 不存在，请返回修改"),confirmText:"",cancelText:"返回",hasCloseBtn:!1});break;default:(0,p.toastOperation)(!0,{name:"",duration:!0,text:n.message,type:"default"});break}else{t.createChatDialog=!1;var a={conversationID:n.groupInfo.baseInfo.groupID,conversationName:n.groupInfo.baseInfo.groupName,type:2};t.conversation.activeConversationID="",t.eventHandler.actionListener(v.event.zimKitCurrentConversationUpdate,a)}}))},handleClick:function(e){var t,n;if("right-click-box"!==e.target.parentNode.className&&"right-click-box"!==(null===(n=null===(t=e.target.parentNode)||void 0===t?void 0:t.parentNode)||void 0===n?void 0:n.className)?this.rightClickDialog=!1:this.rightClickDialog=!this.rightClickDialog,"more-icon"!==e.target.className){var a=document.querySelector(".group-container"),r=!1;e.path.forEach((function(e){"group-container"===e.className&&(r=!0)})),a&&!r&&(0,p.groupUIOperation)()}else console.log("===点击more-icon"),(0,p.groupUIOperation)()}}})},cad5:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e")),o=a(n("de16"));t.default=r.default.extend({data:function(){return{chat:o.default.getInstance(),toUserID:"",peerErrTip:!1,peerDisabled:!0,groupErrTip:!1,userIDList:"",groupName:"",groupID:"",groupDisabled:!0,joinGroupDisabled:!0,currentActived:1,textList:[{id:1,text:"conversation_start_single_chat",actived:!0},{id:2,text:"conversation_start_group_chat",actived:!1},{id:3,text:"conversation_join_group_chat",actived:!1}]}},methods:{titleClick:function(e){this.textList.forEach((function(e){e.actived=!1})),e.actived=!0,this.currentActived=e.id},createChat:function(e){switch(e){case"peer":this.$emit("createChat",this.toUserID);break;case"group":this.$emit("createGroupChat",this.groupName,this.userIDList)}},toUserIDInput:function(){this.toUserID.length?this.toUserID.length<6||this.toUserID.length>12?(this.peerDisabled=!0,this.peerErrTip=!0):(this.peerErrTip=!1,this.peerDisabled=!1):(this.peerErrTip=!1,this.peerDisabled=!0)},groupNameInput:function(){this.groupName.length&&this.userIDList.length?this.groupDisabled=!1:this.groupDisabled=!0},userIDListInput:function(){var e=this;if(this.groupName.length&&this.userIDList.length?this.groupDisabled=!1:this.groupDisabled=!0,this.userIDList){var t=this.userIDList.split(";"),n=!1;t.forEach((function(t){(t.length<6||t.length>12)&&(n=!0,e.groupDisabled=!0)})),this.groupErrTip=n}else this.groupErrTip=!1},joinGroup:function(){this.$emit("joinGroup",this.groupID)},closeDialog:function(){this.$emit("closeDialog")}}})},cd49:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e")),o=a(n("3dfd")),i=a(n("afbc")),s=a(n("0613")),u=a(n("a925")),c=n("30ec"),l=n("e4f6");r.default.config.productionTip=!1,r.default.use(u.default);var d="en_US";"zh"!==navigator.language&&"zh-CN"!==navigator.language||(d="zh_CN");var f=new u.default({locale:d,fallbackLocale:"en_US",messages:{en_US:c.en,zh_CN:l.zh}});new r.default({store:s.default,router:i.default,i18n:f,render:function(e){return e(o.default)}}).$mount("#app")},cd56:function(e,t,n){"use strict";n.r(t);var a=n("1635"),r=n("3ec3");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},d311:function(e,t,n){"use strict";n.r(t);var a=n("341e"),r=n("c051");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("2128");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"2195a98a",null);t["default"]=s.exports},d70b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={appID:2031514356,serverSecret:"6e46fa37db195c449155c9fbfded9c4b"}},db14:function(e,t,n){},de16:function(e,t,n){"use strict";n("d9e2");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("f87a")),s=o(n("321c")),u=o(n("0a03")),c=n("a072"),l=n("1e09"),d=function(){function e(){this.eventHandler=u.default.getInstance(),this.currentMessageList=[],this.messageCount=30,this.currentChat={},this.initListener()}return e.getInstance=function(){return 0===Object.keys(e.instance).length&&(e.instance=new e),e.instance},e.prototype.initListener=function(){var e=this;this.eventHandler.addEventListener("receivePeerMessage",this,(function(t){console.log("zim message receivePeerMessage",t),e.currentChat.conversationID===t.fromConversationID&&(t.messageList.forEach((function(t){e.currentMessageList.push(new s.default(t))})),e.eventHandler.actionListener(l.event.zimKitCurrentChatUpdated,e.currentChat),e.eventHandler.actionListener(l.event.zimKitCurrentMessageListUpdated,e.currentMessageList))})),this.eventHandler.addEventListener("receiveGroupMessage",this,(function(t){console.log("zim receiveGroupMessage",t),e.currentChat.conversationID===t.fromConversationID&&(t.messageList.forEach((function(t){e.currentMessageList.push(new s.default(t))})),e.eventHandler.actionListener(l.event.zimKitCurrentChatUpdated,e.currentChat),e.eventHandler.actionListener(l.event.zimKitCurrentMessageListUpdated,e.currentMessageList))})),this.eventHandler.addEventListener(l.event.zimKitCurrentConversationUpdate,this,(function(t){return a(e,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return this.currentChat.conversationID===t.conversationID?[3,2]:(this.currentChat=t,this.messageCount=30,[4,this.queryHistoryMessage(this.currentChat.conversationID,this.currentChat.type)]);case 1:e.sent(),this.eventHandler.actionListener(l.event.zimKitCurrentChatUpdated,this.currentChat),e.label=2;case 2:return console.log("zim message currentConversationUpdate",JSON.stringify(t),this.currentChat),[2]}}))}))})),this.eventHandler.addEventListener(l.event.zimKitDeleteConversation,this,(function(t){t===e.currentChat.conversationID&&(e.currentMessageList=[],e.currentChat={},e.eventHandler.actionListener(l.event.zimKitCurrentChatUpdated,e.currentChat),e.eventHandler.actionListener(l.event.zimKitCurrentMessageListUpdated,e.currentMessageList))}))},e.prototype.sendPeerMessage=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return r(this,(function(a){switch(a.label){case 0:return t={priority:1},[4,i.default.getInstance().zim.sendPeerMessage(e,this.currentChat.conversationID,t).then((function(e){n.currentMessageList.push(new s.default(e.message))})).catch((function(t){console.log("zimkit sendpeermsg",t);var a={type:1,messageID:String((new Date).getTime()),message:e.message,timestamp:(new Date).getTime(),senderUserID:JSON.parse(localStorage.userInfo).userID,conversationID:"",conversationType:0,direction:0,sentStatus:2,orderKey:0,conversationSeq:0};switch(n.currentMessageList.push(new s.default(a)),t.code){case 6000204:var r={type:99,messageID:String((new Date).getTime()),message:"用户ID ".concat(n.currentChat.conversationID," 不存在，请返回重新添加"),timestamp:(new Date).getTime(),senderUserID:JSON.parse(localStorage.userInfo).userID,conversationID:"",conversationType:0,direction:0,sentStatus:2,orderKey:0,conversationSeq:0};n.currentMessageList.push(new s.default(r));break}})).finally((function(){n.eventHandler.actionListener(l.event.zimKitCurrentChatUpdated,n.currentChat),n.eventHandler.actionListener(l.event.zimKitCurrentMessageListUpdated,n.currentMessageList)}))];case 1:return a.sent(),[2]}}))}))},e.prototype.sendGroupMessage=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return r(this,(function(a){switch(a.label){case 0:return t={priority:1},[4,i.default.getInstance().zim.sendGroupMessage(e,this.currentChat.conversationID,t).then((function(e){console.log("zim sendGroupMessage success",e),n.currentMessageList.push(new s.default(e.message))})).catch((function(t){switch(console.log("zim sendGroupMessage err",t),t.code){case 6000203:var a={type:1,messageID:String((new Date).getTime()),message:e.message,timestamp:(new Date).getTime(),senderUserID:JSON.parse(localStorage.userInfo).userID,conversationID:"",conversationType:0,direction:0,sentStatus:2,orderKey:0,conversationSeq:0};n.currentMessageList.push(new s.default(a));break}(0,c.toastOperation)(!0,{name:"",duration:!0,text:t.message,type:"default"})})).finally((function(){n.eventHandler.actionListener(l.event.zimKitCurrentChatUpdated,n.currentChat),n.eventHandler.actionListener(l.event.zimKitCurrentMessageListUpdated,n.currentMessageList)}))];case 1:return a.sent(),[2]}}))}))},e.prototype.queryHistoryMessage=function(e,t,n){return a(this,void 0,void 0,(function(){var a,o=this;return r(this,(function(r){switch(r.label){case 0:return a={nextMessage:void 0,count:this.messageCount,reverse:!0},[4,i.default.getInstance().zim.queryHistoryMessage(e,t,a).then((function(e){console.log("zim queryHistoryMessage success",e,o.messageCount),o.currentMessageList=[],e.messageList.length&&e.messageList.forEach((function(e){o.currentMessageList.push(new s.default(e)),o.currentMessageList.sort((function(e,t){return e.timestamp-t.timestamp}))})),o.eventHandler.actionListener(l.event.zimKitCurrentMessageListUpdated,o.currentMessageList)})).catch((function(e){console.log("zim queryHistoryMessage err",e,n)}))];case 1:return r.sent(),[2]}}))}))},e.prototype.registerCurrentChatUpdatedCallback=function(e){this.eventHandler.addEventListener(l.event.zimKitCurrentChatUpdated,this,e)},e.prototype.registerMessageListUpdatedCallback=function(e){this.eventHandler.addEventListener(l.event.zimKitCurrentMessageListUpdated,this,e)},e.prototype.unInit=function(){this.currentMessageList=[],this.messageCount=30,this.currentChat={}},e.instance={},e}();t.default=d},e1d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"conversation"},[t("div",{staticClass:"left-banner"},[t("div",{staticClass:"top"},[t("div",{staticClass:"item"},[t("div",{staticClass:"icon message-icon"}),t("div",{staticClass:"text"},[e._v(e._s(e.$t("conversation_message_total_count")))]),e.conversation.totalUnreadMessageCount?t("div",{staticClass:"total"},[e._v(" "+e._s(e.conversation.totalUnreadMessageCount>99?"99+":e.conversation.totalUnreadMessageCount)+" ")]):e._e()]),t("div",{staticClass:"item",on:{click:e.triggerDialog}},[t("div",{staticClass:"icon create-chat-icon"}),t("div",{staticClass:"text create-chat-text"},[e._v(e._s(e.$t("conversation_start_chat_w")))])])]),t("div",{staticClass:"item",on:{click:e.logout}},[t("div",{staticClass:"icon exit-icon"}),t("div",{staticClass:"text exit-text"},[e._v(e._s(e.$t("common_logout")))])])]),e.conversation.isAbnormal?[t("div",{staticClass:"abnormal-content"},[t("div",{staticClass:"btn reload-btn",on:{click:function(t){e.ZIMKitConversationVM.getInstance().loadConversationList()}}},[e._v(" "+e._s(e.$t("conversation_reload"))+" ")])])]:[e.conversationList.size?t("div",{staticClass:"conversation-content",on:{scroll:function(t){return e.listScroll()}}},e._l(e.conversationList.values(),(function(n,a){return t("div",{key:a,staticClass:"conversation-item",class:{actived:e.conversation.activeConversationID===n.conversationID},on:{click:function(t){return e.switchConversation(n)},contextmenu:function(t){return t.preventDefault(),e.operationConversation(t,n)}}},[t("div",{staticClass:"head-portrait"},[e._v(" "+e._s(0===n.type?e.nameFormat(n):"G")+" "),n.unreadMessageCount?t("div",{staticClass:"unread-count"},[e._v(" "+e._s(n.unreadMessageCount>99?"99+":n.unreadMessageCount)+" ")]):e._e()]),t("div",{staticClass:"conversation-info"},[t("div",{staticClass:"info-top"},[t("div",{staticClass:"item-name"},[e._v(" "+e._s(n.conversationName||n.conversationID)+" ")]),n.lastMessage?t("div",{staticClass:"item-date"},[e._v(" "+e._s(e.dateFormat(n.lastMessage.timestamp))+" ")]):e._e()]),n.lastMessage?t("div",{staticClass:"item-message"},[2===n.lastMessage.sentStatus?t("div",{staticClass:"err-icon"}):e._e(),t("div",{staticClass:"message-text"},[e._v(e._s(n.lastMessage.message))])]):e._e()])])})),0):t("div",{staticClass:"default-content"},[e._m(0)])],e.createChatDialog?t("CreatChatDialog",{on:{closeDialog:e.closeDialog,createChat:e.createChat,createGroupChat:e.createGroupChat,joinGroup:e.joinGroup}}):e._e(),e.rightClickDialog?t("RightClickDialog",{attrs:{x:e.x,y:e.y,conversationItem:e.conversationItem}}):e._e()],2)},r=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"text"},[e._v(" 暂无消息 "),t("br"),e._v(" 快去发起聊天吧 ")])}]},e20a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZIMBase=void 0;var a=function(){function e(){}return e}();t.ZIMBase=a},e213:function(e,t,n){"use strict";n.r(t);var a=n("6bdc"),r=n("4ad9");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("0df0");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"3e0d9c11",null);t["default"]=s.exports},e2ca:function(e,t,n){"use strict";n.r(t);var a=n("03d1"),r=n("aaa2");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("2ddb"),n("4111");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"8cd46a72",null);t["default"]=s.exports},e4f6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zh=void 0,t.zh={common_yesterday:"昨天",common_user_kick_out:"重复登录，用户被踢出",common_monday:"周一",common_tuesday:"周二",common_wednesday:"周三",common_thursday:"周四",common_friday:"周五",common_saturday:"周六",common_sunday:"周日",common_logout:"退出",common_return:"返回",conversation_start_chat_w:"发起聊天",conversation_empty:"暂无消息\n快去发起聊天吧",conversation_start_single_chat:"发起单聊",conversation_start_group_chat:"发起群聊",conversation_join_group_chat:"加入群聊",conversation_cancel:"取消",conversation_delete:"删除",conversation_message_total_count:"消息总数",conversation_reload:"重新加载",conversation_enter_touserid_w:"请输入对方用户ID",conversation_close_chat_w:"关闭聊天",demo_login_hint:"输入用户id",demo_login:"登录",demo_user_name:"用户名为:%s",demo_user_name_w:"随机用户昵称",demo_welcome:"您好，\n欢迎使用 Zego IM",demo_input_user_id_error_tips:"请输入6–12位英文或数字的用户ID",demo_user_id_login:"用户ID登录",group_create_chat:"发起会话",group_input_group_id:"输入群ID",group_input_group_id_w:"输入群聊ID",group_input_group_name:"输入群聊名称",group_input_user_id_of_group:"输入群成员的用户ID，';'英文分号隔开",group_input_user_id_of_group_w:"输入群成员的用户ID，';'英文分号隔开",group_user_id_cant_null:"用户id不能为空",group_create_group_chat_title:"发起群聊会话",group_join_group_chat:"加入群聊会话",group_user_not_exit:"用户不存在",group_group_not_exit:"群不存在",group_group_user_id_not_exit:"群成员用户ID %s 不存在，请返回",group_group_user_id_not_exit_w:"请返回修改",group_group_id_not_exit:"群ID %s 不存在，请返回",group_group_id_not_exit_w:"不存在，请返回修改",group_input_user_id_error_tip:"请输入6–12位英文或数字的用户ID",group_group_id:"群聊ID",group_copy:"复制",group_copy_success:"复制成功",message_input_new_message:"输入新消息",message_user_not_exit_please_again:"用户ID:%s不存在，请返回重新添加",message_user_not_exit_please_again_w_1:"用户ID",message_user_not_exit_please_again_w_2:"不存在，请返回重新添加",message_cant_send_empty_msg:"不允许发送空白消息",message_create_chat:"发起会话",message_input_user_id_error_tips:"请输入6–12位英文或数字的用户ID",message_create_single_chat:"发起单聊会话",message_send_w:"发送",message_empty_w:"暂时还没有收到消息"}},e596:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[]},ec23:function(e,t,n){},ecbf:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("2b0e"));t.default=r.default.extend({props:["type","dialogData"],methods:{clickBtn:function(e){"confirm"===e?this.dialogData.confirmFunc&&this.dialogData.confirmFunc():"cancel"===e&&this.dialogData.cancelFunc&&this.dialogData.cancelFunc(),this.$emit("update:show",!1)},close:function(){this.$emit("update:show",!1)}}})},edea:function(e,t,n){},f00f:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserName=t.createRandomName=t.addCacheUserToList=t.getCacheUserList=t.clearCacheUserInfo=t.setCacheUserInfo=t.getCacheUserInfo=void 0;var r=a(n("1bdc")),o=function(){return localStorage.userInfo?JSON.parse(localStorage.userInfo):null};t.getCacheUserInfo=o;var i=function(e){localStorage.setItem("userInfo",JSON.stringify(e))};t.setCacheUserInfo=i;var s=function(){localStorage.removeItem("userInfo")};t.clearCacheUserInfo=s;var u=function(){return localStorage.userList?JSON.parse(localStorage.userList):null};t.getCacheUserList=u;var c=function(e){var t=localStorage.userList?JSON.parse(localStorage.userList):[],n=t.find((function(t){return e.userID===t.userID}));!n&&t.push(e),localStorage.setItem("userList",JSON.stringify(t))};t.addCacheUserToList=c;var l=function(){return r.default[Math.floor(Math.random()*r.default.length)]};t.createRandomName=l;var d=function(e){var n=(0,t.getCacheUserList)(),a=(0,t.createRandomName)(),r={userName:""};return(e.length>=6||e.length<=12)&&n&&n.some((function(t){return t.userID===e}))?r.userName=n.filter((function(t){return t.userID===e}))[0].userName:r.userName=a,r};t.getUserName=d},f247:function(e,t,n){"use strict";n.r(t);var a=n("ace9"),r=n("883d");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("3afe");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"5338bea0",null);t["default"]=s.exports},f377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZIMConnectionState=t.ZIMConversationType=t.ZIMConversationNotificationStatus=t.ZIMMessageSentStatus=t.ZIMMessageDirection=t.ZIMMessageType=t.ZIM=t.ZIMPlatform=void 0,function(e){e[e["Web"]=0]="Web"}(t.ZIMPlatform||(t.ZIMPlatform={}));var a=n("6e72");Object.defineProperty(t,"ZIM",{enumerable:!0,get:function(){return a.ZIM}}),Object.defineProperty(t,"ZIMMessageType",{enumerable:!0,get:function(){return a.ZIMMessageType}}),Object.defineProperty(t,"ZIMMessageDirection",{enumerable:!0,get:function(){return a.ZIMMessageDirection}}),Object.defineProperty(t,"ZIMMessageSentStatus",{enumerable:!0,get:function(){return a.ZIMMessageSentStatus}}),Object.defineProperty(t,"ZIMConversationNotificationStatus",{enumerable:!0,get:function(){return a.ZIMConversationNotificationStatus}}),Object.defineProperty(t,"ZIMConversationType",{enumerable:!0,get:function(){return a.ZIMConversationType}}),Object.defineProperty(t,"ZIMConnectionState",{enumerable:!0,get:function(){return a.ZIMConnectionState}})},f418:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"right-click-box",style:`top: ${e.y}px;left: ${e.x}px`},[t("div",{staticClass:"item",on:{click:e.closeConversation}},[e._v(e._s(e.$t("conversation_close_chat_w")))])])},r=[]},f527:function(e,t,n){"use strict";function a(e,t){if(0===e)return"--";var n=new Date(e),a=new Date((new Date).toDateString()),r={1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",0:"周日"},o=String(n.getFullYear()),i=String(n.getMonth()+1);i.length<1&&(i="0".concat(i));var s=String(n.getDate());1===s.length&&(s="0".concat(s));var u=String(n.getHours());1===u.length&&(u="0".concat(u));var c=String(n.getMinutes());1===c.length&&(c="0".concat(c));var l,d=String(n.getSeconds());if(1===d.length&&(d="0".concat(d)),n.getFullYear()!==a.getFullYear())l=t?"yyyy-MM-dd hh:mm".replace(/yyyy/g,o).replace(/MM/g,i).replace(/dd/g,s).replace(/hh/g,u).replace(/mm/g,c):"yyyy-MM-dd".replace(/yyyy/g,o).replace(/MM/g,i).replace(/dd/g,s);else{var f=a.getTime()-5184e5;if(e<f)l=t?"MM-dd hh:mm".replace(/MM/g,i).replace(/dd/g,s).replace(/hh/g,u).replace(/mm/g,c):"MM-dd".replace(/MM/g,i).replace(/dd/g,s);else{var p=a.getTime()-864e5;l=e<p?t?r[n.getDay()]+" "+"hh:mm".replace(/hh/g,u).replace(/mm/g,c):r[n.getDay()]:e<a.getTime()?t?"昨天 "+"hh:mm".replace(/hh/g,u).replace(/mm/g,c):"昨天":"hh:mm".replace(/hh/g,u).replace(/mm/g,c)}}return l}Object.defineProperty(t,"__esModule",{value:!0}),t.dateFormat=void 0,t.dateFormat=a},f5cf:function(e,t,n){"use strict";n("57be")},f87a:function(e,t,n){"use strict";n("d9e2");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):r(e.value).then(i,s)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("2b0e")),s=o(n("0a03")),u=n("5d7c"),c=n("53b8"),l=o(n("a925")),d=n("30ec"),f=n("e4f6"),p=n("1e09"),v=function(){function e(){return this.eventHandler=s.default.getInstance(),this.userInfo={},this.appConfig={},0===Object.keys(e.instance).length&&(e.instance=this),e.instance}return e.getInstance=function(){return 0===Object.keys(e.instance).length&&(e.instance=new e),e.instance},e.prototype.createZIM=function(e){return a(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){switch(n.label){case 0:return[4,u.ZIMAdapter.initPlatform()];case 1:return n.sent(),this.appConfig=e,this.zim=u.ZIMAdapter.create(e.appID),this.zim.on("error",(function(e,n){console.log("zim error",n.code,n.message),t.eventHandler.actionListener("error")})),this.zim.on(p.event.zimConnectionStateChanged,(function(e,n){if(console.log("zim connectionStateChanged",n,t.userInfo),t.eventHandler.actionListener(p.event.zimConnectionStateChanged,n),0===n.state)if(3===n.event){if(t.userInfo.userID){var a=(0,c.generateToken)(t.userInfo.userID,0,t.appConfig);t.zim.login(t.userInfo,a).then((function(){console.warn("zim 重新登录成功")})).catch((function(e){console.warn("zim 重新登录失败",e)}))}}else 4===n.event&&t.logout()})),this.zim.on("tokenWillExpire",(function(e,n){console.log("zim tokenWillExpire",n);var a=(0,c.generateToken)(t.userInfo.userID,0,t.appConfig);t.zim.renewToken(a)})),this.zim.on("receivePeerMessage",(function(e,n){t.eventHandler.actionListener("receivePeerMessage",n)})),this.zim.on("receiveGroupMessage",(function(e,n){t.eventHandler.actionListener("receiveGroupMessage",n)})),this.zim.on("conversationTotalUnreadMessageCountUpdated",(function(e,n){var a=n.totalUnreadMessageCount;t.eventHandler.actionListener("conversationTotalUnreadMessageCountUpdated",a)})),this.zim.on("conversationChanged",(function(e,n){console.log("zim sdk  conversationChanged",e,n),t.eventHandler.actionListener("conversationChanged",n)})),[2]}}))}))},e.prototype.loginWithUserInfo=function(e,t){return this.userInfo=e,this.zim.login(e,t)},e.prototype.logout=function(){return this.zim.logout()},e.prototype.destroy=function(){this.offEvent(),this.zim.destroy()},e.prototype.registerConnectionCallback=function(e){this.eventHandler.addEventListener(p.event.zimConnectionStateChanged,this,e)},e.prototype.removeConnectionCallback=function(e){this.eventHandler.removeEventListener(p.event.zimConnectionStateChanged,this,e)},e.prototype.offEvent=function(){this.zim.off(p.event.zimError),this.zim.off(p.event.zimConversationChanged),this.zim.off(p.event.zimTokenWillExpire),this.zim.off(p.event.zimReceivePeerMessage),this.zim.off(p.event.zimReceiveGroupMessage),this.zim.off(p.event.zimConversationTotalUnreadMessageCountUpdated)},e.prototype.createView=function(){i.default.use(l.default);var e="en_US";"zh"!==navigator.language&&"zh-CN"!==navigator.language||(e="zh_CN");var t=new l.default({locale:e,fallbackLocale:"en_US",messages:{en_US:d.en,zh_CN:f.zh}});this.vm=new i.default({i18n:t}).$mount("#app")},e.instance={},e}();t.default=v}});